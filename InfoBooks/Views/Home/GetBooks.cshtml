@model IQueryable<InfoBooks.Models.Book>

@*<script src="~/Scripts/jquery-3.3.1.js"></script>*@
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
<script src="~/Scripts/angular.js"></script>
<link href="~/Content/filterTable.css" rel="stylesheet" />
<script src="~/Scripts/filterTable.js"></script>
<div id="book-info">
    <div class="row">
        <div class="panel panel-primary filterable" >
            <div class="panel-heading">
                <h3 class="panel-title">Книги</h3>
                <div class="pull-right">
                    <button class="btn btn-default btn-xs btn-filter" style="color:#428bca">
                        <span class="glyphicon glyphicon-filter" style="color:#428bca"></span>
                        Фильтр
                    </button>
                    <button class="btn btn-default btn-xs">@Ajax.ActionLink("Добавить книгу", "Create", "Home", new AjaxOptions { UpdateTargetId = "book-info" })</button>

                </div>
            </div>
            <table class="table">
                <thead>
                    <tr class="filters">
                        <th><input type="text" class="form-control" placeholder="BookName" disabled /></th>
                        <th><input type="text" class="form-control" placeholder="Price" disabled /></th>
                        <th><input type="text" class="form-control" placeholder="Year" disabled /></th>
                        <th><input type="text" class="form-control" placeholder="AuthorName" disabled /></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (InfoBooks.Models.Book book in Model)
                    {
                        <tr>
                            <td>@Ajax.ActionLink(@book.BookName, "Edit", "Home", new { id = book.Id }, new AjaxOptions { UpdateTargetId = "book-info" })</td>
                            <td>@book.Price</td>
                            <td>@book.Year</td>
                            <td>@book.Author.AuthorName</td>
                            <td>@Ajax.ActionLink("Удалить", "Delete", "Home", new { id = book.Id }, new AjaxOptions { UpdateTargetId = "book-info" })</td>
                        </tr>

                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
@*<script>
    var modelBooks = {
        books: [{ BookName:"test", Price:"45", Year:"2017", AuthorName: "Н" }]
    }
    @foreach (InfoBooks.Models.Book bookModels in Model)
    {

    }
                var bookListApp = angular.module("bookListApp", [])


                bookListApp.controller("BookListCtrl", function ($scope) {
                    $scope.data = Model.books;
                    $scope.addNewBook = function () {
                        $scope.data.books.push({
                            BookName: $scope.BookName,
                            Year: $scope.Year,
                            Price: $scope.Price,
                            AuthorName: "K"

                        });
                        $scope.BookName = "";
                        $scope.Price = "";
                        $scope.Year = "";
                    }
                });
</script>
<body ng-controller="BookListCtrl">
    <div class="container">
        <div class="panel">
            <div class="input-group">
                <input class="form-control" ng-model="BookName, Price, Year"/>
                <span class="input-group-btn">
                      <button class="btn btn-info" ng-click="addNewBook()">Добавить</button>
               </span>
            </div>
        </div>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Название</th>
                    <th>Год</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="book in list.books">
                    <td>{{book.BookName}}</td>
                    <td>{{book.Price}}</td>
                    <td>{{book.AuthorName}}</td>
                    <td>{{book.Year}}</td>

                </tr>
            </tbody>
        </table>
    </div>

</body>*@




